# ═══════════════════════════════════════════════════════════════════════
# coherence-mcp v0.3.0 — Environment Configuration
# ═══════════════════════════════════════════════════════════════════════
#
# ATOM-AUTH PRINCIPLE: Each credential below is a strand in the braid.
# You don't need all of them. The system activates what you provide
# and gracefully degrades what you don't. No credential is wasted,
# no absence is fatal.
#
# Run `npx coherence-mcp setup` for an interactive, intent-driven
# configuration that explains WHY each key matters before asking for it.
#
# ═══════════════════════════════════════════════════════════════════════


# ─────────────────────────────────────────────────────────────────────
# STRAND 1: ATOM TRAIL — Provenance & Identity
# ─────────────────────────────────────────────────────────────────────
# These credentials anchor WHO you are in the network.
# Without them the system still works, but decisions are unsigned.

# SpiralSafe API — ethics & safety guardrails
# Impact: Enables docs_search, SpiralSafe corpus queries
# Without: WAVE scores still compute, but safety corpus is unavailable
# Get it: https://spiralsafe.org/api-keys
SPIRALSAFE_API_TOKEN=

# ATOM Auth Token — signs your decisions in the provenance trail
# Impact: Every atom_track entry carries your identity
# Without: Decisions log as "anonymous" — still tracked, not attributed
# Generate: `npx coherence-mcp generate-token`
ATOM_AUTH_TOKEN=


# ─────────────────────────────────────────────────────────────────────
# STRAND 2: WAVE SCORING — Coherence Measurement
# ─────────────────────────────────────────────────────────────────────
# The WAVE toolkit is optional. Without it, coherence scoring uses
# the built-in JS implementation. With it, you get the full Rust
# binary for high-throughput analysis.

# Path to the wave-toolkit binary (optional, for high-throughput)
# Impact: 10x faster coherence scoring on large codebases
# Without: JS fallback handles everything, just slower
WAVE_TOOLKIT_BIN=


# ─────────────────────────────────────────────────────────────────────
# STRAND 3: AI PLATFORMS — The Tri-Weavon
# ─────────────────────────────────────────────────────────────────────
# Each key activates one strand of the cooperative AI framework.
# The system routes to whichever strands are available.
# One strand is enough. Three strands is the full braid.

# Claude (Anthropic) — Structure & Reasoning strand
# Impact: Enables check_coherence via Claude, deepest reasoning
# Without: Grok or Gemini handle coherence checks instead
# Get it: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=

# Gemini (Google) — Multimodal & Scale strand
# Impact: Enables gemini_translate, gemini_check_coherence
# Without: Claude or Grok handle translation, no multimodal bridge
# Get it: https://aistudio.google.com/apikey
# Model: gemini-2.0-flash (default), gemini-2.0-pro, gemini-ultra
GEMINI_API_KEY=
GEMINI_MODEL=gemini-2.0-flash
GEMINI_TIMEOUT=30000

# Grok (xAI) — Real-Time & Social Intelligence strand
# Impact: Enables grok_generate, grok_check_coherence, grok_translate
# Without: Claude or Gemini handle generation and coherence
# Get it: https://console.x.ai/
XAI_API_KEY=

# Open-Weight Models (Ollama/vLLM) — Local Inference strand
# Impact: Enables openweight_generate, openweight_check_coherence
# Without: Cloud APIs handle all generation (requires internet)
# Default: http://localhost:11434/v1 (Ollama default)
# The Coherence Forge RTX 5090 runs 70B models at ~27 TPS here
OPENWEIGHT_BASE_URL=http://localhost:11434/v1


# ─────────────────────────────────────────────────────────────────────
# STRAND 4: INDUSTRY CONNECTORS — The Bridge Network
# ─────────────────────────────────────────────────────────────────────
# Each connector wires coherence-mcp into your existing workflow.
# None are required. Each one you add extends the braid.

# GitHub — code provenance, issue tracking, commit status
# Impact: Enables github_file, github_status, github_issue
# Without: Manual GitHub workflow (still works, just not automated)
# Get it: https://github.com/settings/tokens (scopes: repo, read:org)
GITHUB_TOKEN=

# Slack — real-time coherence alerts
# Impact: Enables slack_notify with formatted WAVE score alerts
# Without: No push notifications; check scores manually
# Get it: https://api.slack.com/apps → Incoming Webhooks
SLACK_WEBHOOK_URL=

# Discord — community coherence alerts
# Impact: Same as Slack but for Discord channels
# Without: No Discord notifications
DISCORD_WEBHOOK_URL=

# Jira — project tracking integration
# Impact: Enables jira_create, jira_search
# Without: Manual ticket management
JIRA_URL=
JIRA_EMAIL=
JIRA_TOKEN=

# Postgres/Supabase — persistent state storage
# Impact: Enables postgres_query, postgres_store for durable ATOM trails
# Without: ATOM trail stores to local JSONL files (still works)
# Format: postgresql://user:pass@host:5432/dbname
POSTGRES_URL=


# ─────────────────────────────────────────────────────────────────────
# STRAND 5: MINECRAFT & NPC — The Conservation Layer
# ─────────────────────────────────────────────────────────────────────
# These connect coherence-mcp to a Minecraft server for the
# HOPE-AI-NPC-SUITE. Conservation law: α + ω = 15.

# Minecraft RCON — remote console for server commands
# Impact: Enables mc_exec, mc_query, mc_npc, mc_conservation_verify
# Without: Conservation law verified in-memory only (no live server)
MC_RCON_HOST=localhost
MC_RCON_PORT=25575
MC_RCON_PASSWORD=


# ─────────────────────────────────────────────────────────────────────
# STRAND 6: DEPLOYMENT & INFRASTRUCTURE
# ─────────────────────────────────────────────────────────────────────

# Cloudflare — static site deployment, Workers, D1, R2
# Impact: Enables ops_deploy to Cloudflare Pages/Workers
# Without: Manual deployment via dashboard drag-and-drop
# Get it: https://dash.cloudflare.com/profile/api-tokens
CLOUDFLARE_API_TOKEN=
CLOUDFLARE_ACCOUNT_ID=

# Server Configuration
PORT=3000
NODE_ENV=development


# ─────────────────────────────────────────────────────────────────────
# STRAND 7: OBSIDIAN BRIDGE — The Creation Layer
# ─────────────────────────────────────────────────────────────────────
# Connects to the Obsidian Super-Agent Protocol via local websocket.
# The Rust TUI orchestrates plugins through this bridge.

# Obsidian websocket bridge (local only, sovereign, no cloud)
# Impact: Enables Plugin Orchestration Protocol (POP)
# Without: Obsidian plugins managed manually
OBSIDIAN_WS_PORT=8088
OBSIDIAN_VAULT_PATH=

# NEAR Protocol — on-chain conservation verification
# Impact: Enables smart contract conservation law (α + ω = 15 on-chain)
# Without: Conservation verified in-memory and in-blocks only
NEAR_ACCOUNT_ID=
NEAR_NETWORK=testnet


# ═══════════════════════════════════════════════════════════════════════
# CONSERVATION LAW: α + ω = 15
# The number of strands you activate doesn't matter.
# What matters is that whatever you provide, coheres.
# ═══════════════════════════════════════════════════════════════════════
