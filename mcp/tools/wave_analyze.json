{
  "name": "wave_analyze",
  "description": "Analyze content for coherence patterns: curl (circular reasoning), divergence (scope creep), potential (synthesis opportunities). Returns structured assessment with remediation suggestions.",
  "inputSchema": {
    "type": "object",
    "properties": {
      "content": {
        "type": "string",
        "description": "Text, code, or documentation to analyze for coherence patterns"
      },
      "context": {
        "type": "string",
        "description": "Optional context about the content's purpose or domain"
      },
      "thresholds": {
        "type": "object",
        "description": "Custom warning thresholds (0.0-1.0)",
        "properties": {
          "curl_warning": {
            "type": "number",
            "default": 0.7,
            "description": "Threshold for circular reasoning detection"
          },
          "divergence_warning": {
            "type": "number",
            "default": 0.8,
            "description": "Threshold for scope creep/divergence"
          },
          "potential_opportunity": {
            "type": "number",
            "default": 0.6,
            "description": "Threshold for synthesis opportunity flagging"
          }
        }
      },
      "output_format": {
        "type": "string",
        "enum": ["human", "json", "dual"],
        "default": "dual",
        "description": "Output format: human-readable, JSON-RPC, or both"
      }
    },
    "required": ["content"]
  },
  "outputSchema": {
    "type": "object",
    "properties": {
      "coherent": {
        "type": "boolean",
        "description": "Overall coherence assessment"
      },
      "scores": {
        "type": "object",
        "properties": {
          "curl": { "type": "number" },
          "divergence": { "type": "number" },
          "potential": { "type": "number" }
        }
      },
      "flags": {
        "type": "array",
        "items": { "type": "string" }
      },
      "remediation": {
        "type": "array",
        "items": { "type": "string" }
      }
    }
  }
}
